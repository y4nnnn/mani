@model Mani.ViewModels.MemberViewModel
@{
    ViewBag.Title = "Register";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<section class="home-slider owl-carousel d-flex align-items-end" style="height: 40vh;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-7 col-sm-12 text-center ftco-animate">
                <h1 class="mb-3 bread">Register</h1>
                <p class="breadcrumbs mb-0"><span class="mr-2"><a href="@Url.Action("Index","Home")">Home</a></span> <span>Register</span></p>
            </div>
        </div>
    </div>
</section>

<section class="ftco-section contact-section">
    <div class="container mt-5">
        <div class="row block-9 justify-content-center">
            <div class="col-md-6 ftco-animate">
                <form action="/Member/Register" class="contact-form" method="post" autocomplete="off">
                    <div class="form-group">
                        @*<input type="text" id="first-name" class="form-control">*@
                        @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label col-md-2" })
                        @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @*<input type="text" class="form-control" placeholder="密碼" id="txtPassWord">*@
                        @Html.LabelFor(model => model.PassWord,  htmlAttributes: new { @class = "control-label col-md-2" })
                        @Html.EditorFor(model => model.PassWord, new { htmlAttributes = new { @class = "form-control", type = "password" } })
                        @Html.ValidationMessageFor(model => model.PassWord, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @*<input type="text" class="form-control" placeholder="確認密碼">*@
                        @Html.LabelFor(model => model.ConfirmPassWord,  htmlAttributes: new { @class = "control-label col-md-2", style = "white-space: nowrap;" })
                        @Html.EditorFor(model => model.ConfirmPassWord, new { htmlAttributes = new { @class = "form-control", type = "password" } })
                        @Html.ValidationMessageFor(model => model.ConfirmPassWord, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @*<input type="text" class="form-control" placeholder="姓名" id="txtName">*@
                        @Html.LabelFor(model => model.Name,  htmlAttributes: new { @class = "control-label col-md-2" })
                        @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @*<input type="text" class="form-control" placeholder="手機號碼" id="txtPhoneNumber">*@
                        @Html.LabelFor(model => model.PhoneNumber,  htmlAttributes: new { @class = "control-label col-md-2", style = "white-space: nowrap;" })
                        @Html.EditorFor(model => model.PhoneNumber, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.PhoneNumber, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @*<input type="text" class="form-control" placeholder="電子信箱" id="txtEmail">*@
                        @Html.LabelFor(model => model.Email,  htmlAttributes: new { @class = "control-label col-md-2", style = "white-space: nowrap;" })
                        @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group d-flex justify-content-between">
                        <input type="button" class="btn btn-primary py-3 px-5" id="btn1" value="Register" />
                        <input type="button" class="btn btn-primary py-3 px-5" id="btnDemo" value="Demo" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

@section MyJS{
    <script src="~/js/jquery.validate.min.js"></script>
    <script src="~/js/jquery.validate.unobtrusive.min.js"></script>
    <script>
        $(function () {
            $("#btn1").click(function () {

                //$(this).prop("disabled", true);

                var obj = {
                    UserName: $("#UserName").val(),
                    PassWord: $("#PassWord").val(),
                    ConfirmPassWord: $("#ConfirmPassWord").val(),
                    Name: $("#Name").val(),
                    PhoneNumber: $("#PhoneNumber").val(),
                    Email: $("#Email").val(),
                }

                $.ajax({
                    type: "POST",
                    url: "/Member/Register",
                    data: JSON.stringify(obj), //json物件
                    //data: obj,
                    dataType: "json",
                    contentType: 'application/json; charset=UTF-8',
                    success: function (data) {
                        //$("#result").html(data.msg);
                        alert(data.msg);

                        location.href = "/Home/Index";
                    },
                    error: function (data) {
                        alert("該用戶名已經被使用。請選擇另一個用戶名");
                    }

                })

            });

        });
    </script>
    <script>
        $(document).ready(function () {
            $('#btnDemo').click(function () {
                $('#UserName').val('panpan'); 
                $('#PassWord').val('abcd1234'); 
                $('#ConfirmPassWord').val('abcd1234'); 
                $('#Name').val('王小盼'); 
                $('#PhoneNumber').val('0912345678'); 
                $('#Email').val('panpan@gmail.com'); 
            });
        });
    </script>






}

